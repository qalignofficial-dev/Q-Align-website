# Q-ALIGN 서비스 개요

> **버전**: v1.3.1
> **최종 업데이트**: 2025-12-26

---

## 1. 서비스 정의

**Q-ALIGN**은 **질문과 경청만으로 조직을 정렬시키는** AI 기반 조직 정렬 SaaS입니다.

### 핵심 가치

| 구분 | 설명 |
|------|------|
| **미션** | 고가 코칭 경험을 모든 팀이 사용할 수 있도록 민주화 |
| **철학** | 질문 + 경청 = 정렬(Alignment) |
| **접근법** | 스텔스 코칭 - "코칭"을 전면에 내세우지 않음 |

### 타겟 사용자별 소구점

- **CEO/리더**: 정렬, 가시성, 조직 운영 도구
- **구성원**: 관심, 생각 정리, 심리적 안전감

---

## 2. 주요 기능

### 2.1 일일 체크인 시스템

- 하루 1개 질문으로 팀원 상태 파악
- 최소 행동 UX: 한 줄 답변 OK
- 요일별 톤 변화 (월: 목표, 수: 장애물, 금: 회고)

### 2.2 AI 분석 엔진

| 기능 | 설명 |
|------|------|
| **Work DNA** | 개인별 업무 스타일/성향 분석 |
| **플래그 시스템** | 답변 톤 기반 상태 분류 (Red/Purple/Green) |
| **정렬도(Alignment Score)** | 팀 전체의 방향성 일치 정도 측정 |
| **분산도(Variance)** | 구성원 간 인식 차이 정도 |

### 2.3 리포트 시스템

- **주간 리포트**: 한 주간 팀 상태 요약
- **월간 리포트**: 장기 트렌드 및 인사이트
- **세그먼트 분석**: 부서/팀/직급/근속 기준 필터링

### 2.4 마일스톤 알림 (v1.3.1)

관리자에게 팀 참여율 도달 시 네이티브 알림:
- 50% 달성
- 70% 달성
- 90% 달성
- 100% 전원 참여

### 2.5 MVC 온보딩

AI 대화형 인터페이스로 팀의 Mission, Vision, Core Values 설정 지원

---

## 3. 기술 스택

### 프론트엔드
- React 19 + TypeScript
- Vite (빌드 도구)
- Tailwind CSS 4
- ApexCharts (데이터 시각화)

### 백엔드
- Express 5 + TypeScript (ESM)
- Prisma ORM
- PostgreSQL

### 데스크톱
- Electron
- electron-updater (자동 업데이트)

### AI/LLM
- 멀티 프로바이더 지원: OpenAI, Anthropic, Deepseek, Groq
- 자동 폴백 시스템

---

## 4. 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────┐
│                    클라이언트 레이어                      │
├─────────────────┬─────────────────┬─────────────────────┤
│   웹 브라우저    │   Electron App  │   PWA (모바일)      │
│   (React SPA)   │   (Win/Mac/Linux)│                    │
└────────┬────────┴────────┬────────┴─────────┬───────────┘
         │                 │                   │
         └─────────────────┼───────────────────┘
                           │ HTTPS
                           ▼
┌─────────────────────────────────────────────────────────┐
│                    API 서버 (Express)                    │
├─────────────────────────────────────────────────────────┤
│  인증  │  질문 관리  │  답변 처리  │  분석 API  │ 알림  │
└────────┴──────┬──────┴──────┬──────┴──────┬─────┴───────┘
                │             │             │
                ▼             ▼             ▼
         ┌──────────┐  ┌──────────┐  ┌──────────┐
         │ Prisma   │  │ LLM 서비스│  │  캐시    │
         │ (ORM)    │  │ (멀티)   │  │ (메모리) │
         └────┬─────┘  └────┬─────┘  └──────────┘
              │             │
              ▼             ▼
         PostgreSQL    OpenAI/Anthropic/...
```

---

## 5. 데이터 모델 (핵심)

```
Company (회사)
 ├── companyMeta (Mission/Vision/Values)
 ├── Users (사용자)
 │    ├── Answers (답변)
 │    ├── Insights (개인 인사이트)
 │    └── WorkDNACache (Work DNA 캐시)
 └── MilestoneNotification (마일스톤 알림 추적)

Question (질문)
 ├── 카테고리/태그
 ├── 타겟팅 설정
 └── QuestionAnalytics (분석 캐시)

ActionLog / ActionOutcome (피드백 루프)
```

---

## 6. 인증 체계

| 환경 | 방식 |
|------|------|
| 웹 | httpOnly 쿠키 + JWT |
| Electron | localStorage + JWT |
| 로그인 방식 | 이메일 매직링크, SMS 인증 |

---

## 7. 배포 인프라

### 웹 애플리케이션
- **호스팅**: AWS S3 + CloudFront
- **도메인**: https://www.q-align.com
- **CI/CD**: GitHub Actions (main 브랜치 push 시 자동 배포)

### 백엔드 API
- **호스팅**: AWS EC2
- **프로세스 관리**: PM2
- **데이터베이스**: PostgreSQL (Supabase)

### 데스크톱 앱
- **빌드**: electron-builder
- **배포**: S3 기반 자동 업데이트
- **플랫폼**: Windows, macOS (Intel/Apple Silicon), Linux

---

## 8. 버전 히스토리

| 버전 | 주요 변경사항 |
|------|--------------|
| v1.3.1 | 마일스톤 알림 시스템, 네이티브 알림 지원 |
| v1.3.0 | MVC 온보딩 AI 도우미, 관리자 플로우 개선 |
| v1.2.x | 주간 리포트, Work DNA 분석, 플래그 시스템 |

---

## 9. 로드맵 (요약)

### Phase 1 (1~6개월) - PMF 탐색
- 기능 안정화
- 200팀 온보딩
- 4주 유지율 40% 목표

### Phase 2 (7~12개월) - 유료화
- 1,000팀 목표
- 요금제 도입 (Free/Team/Business/Enterprise)
- AI 고도화

### Phase 3-5 (13~36개월) - 스케일링
- 10,000팀 목표
- ARR 70억원
- 해외 진출 (동남아/일본)

---

## 10. 개발 가이드

### 로컬 환경 설정

```bash
cd desktop

# 환경변수 설정
cp .env.example .env
# DATABASE_URL, OPENAI_API_KEY 등 설정

# 의존성 설치
npm install

# DB 동기화
npm run db:push

# 개발 서버 실행
npm run dev     # 프론트엔드 (5173)
npm run api     # 백엔드 (3002)
```

### 주요 명령어

| 명령어 | 설명 |
|--------|------|
| `/dev` | 개발 서버 시작 |
| `/release` | 새 버전 릴리즈 |
| `/deploy-ec2` | EC2 배포 |
| `/db` | 데이터베이스 관리 |
| `/fix-types` | TypeScript 에러 수정 |

---

## 11. 연락처

- **이슈 리포트**: GitHub Issues
- **문서**: `/docs` 디렉토리 참조
  - [PRD](./prd.md) - 제품 요구사항
  - [디자인 스펙](./design-spec.md) - UX/UI 가이드
  - [AI 설계](./ai-design.md) - AI 시스템 설계
  - [데이터 아키텍처](./DATA_ARCHITECTURE.md) - 데이터 구조
